<!DOCTYPE html>
<html>
<head>
  <title>{% block title %}Todo App{% endblock %}</title>
  ## This is where the calendar thing starts from ##
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
  #This tag loads the Moment.js library from a CDN, which is used to parse and format dates and times.
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.10.2/fullcalendar.min.css" />
  #This tag loads a CSS stylesheet for the FullCalendar plugin from a CDN.
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.10.2/fullcalendar.min.js"></script>
  #This tag loads the FullCalendar plugin from a CDN.
</head>
<body>
  <nav>
    <ul>
        <li><a href="{% url 'home' %}">Task List</a></li>
      {% if user.is_authenticated %}
        <li><a href="{% url 'todo_list' %}">Task List</a></li>
        <li><a href="{% url 'task_create' %}">Task  Create</a></li>
        <li><a href="{% url 'logout' %}">Logout</a></li>
        <li><a href="#">Welcome, {{ user.username }}</a></li>
      {% else %}
        <li><a href="{% url 'login' %}">Login</a></li>
        <li><a href="{% url 'register' %}">Register</a></li>
      {% endif %}
    </ul>
  </nav>
  <main>
    {% block content %}
    ## The calendar then continues from here  to the end##
    <div id='calendar'></div>
    #This tag defines a div element with an ID of "calendar" where the FullCalendar plugin will render the calendar.
    <script>
      $(document).ready(function() {
        var events = [
          {% for task in tasks %}
            {
              title: '{{ task.title }}',
              start: '{{ task.due_date }}'
            },
          {% endfor %}
        ];
        $('#calendar').fullCalendar({
          events: events
        });
      });
    </script>
    {% endblock %}
  </main>
</body>
</html>